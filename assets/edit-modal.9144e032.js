var w=Object.defineProperty,k=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(t,r,o)=>r in t?w(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,c=(t,r)=>{for(var o in r||(r={}))b.call(r,o)&&g(t,o,r[o]);if(f)for(var o of f(r))y.call(r,o)&&g(t,o,r[o]);return t},B=(t,r)=>k(t,$(r));var u=(t,r,o)=>new Promise((p,a)=>{var l=e=>{try{s(o.next(e))}catch(m){a(m)}},n=e=>{try{s(o.throw(e))}catch(m){a(m)}},s=e=>e.done?p(e.value):Promise.resolve(e.value).then(l,n);s((o=o.apply(t,r)).next())});import{B as C,b as R}from"./index.2fdf992b.js";import{B as E}from"./BasicForm.6a80a3ef.js";import{u as L}from"./useForm.9f5f06ba.js";import{f as O}from"./data.7a1fdcd7.js";import{a as S,w as F,f as U,j as d,au as D,aw as M,o as I,k as P,B as T,p as V,ax as j}from"./index.4804300a.js";import"./useWindowSizeFn.38c7676c.js";import"./FullscreenOutlined.6182337b.js";import"./isEqual.d085b836.js";import"./_baseIsEqual.b58e8f82.js";import"./index.0c62ab03.js";import"./index.716c17fa.js";import"./responsiveObserve.dcad6fcd.js";import"./useFlexGapSupport.80df3ddb.js";import"./_baseIteratee.fd601a92.js";import"./get.0b3d73ff.js";import"./findIndex.64769271.js";import"./toInteger.cb8f48a7.js";import"./useSize.ea1bf5d1.js";import"./index.b31cd219.js";import"./index.aafc8171.js";import"./Checkbox.ed9ba07d.js";import"./index.b072982e.js";import"./index.8d4032f7.js";import"./index.4b18e1d8.js";import"./UpOutlined.7d204e9d.js";import"./index.f77551c2.js";import"./index.9c7c8f45.js";import"./warning.ca82f8e0.js";import"./util.911c028f.js";import"./Tree.d17c098e.js";import"./RedoOutlined.f42eea3d.js";import"./index.ea8a2f75.js";import"./uniqBy.a37949c3.js";import"./index.bf15c0c1.js";import"./DeleteOutlined.8ae61e5f.js";import"./index.7e49ec2b.js";import"./index.5b9902c5.js";import"./uuid.2b29000c.js";import"./download.9c0a35ab.js";import"./base64Conver.08b9f4ec.js";import"./index.b8e933b2.js";import"./index.259bc711.js";const x=S({name:"EditModal",components:{BasicModal:C,BasicForm:E},emits:["success","register"],setup(t,{emit:r}){const o=F(!0),p=F(""),[a,{setFieldsValue:l,resetFields:n,validate:s}]=L({labelWidth:150,schemas:O,showActionButtonGroup:!1,actionColOptions:{span:23}}),[e,{setModalProps:m,closeModal:h}]=R(i=>u(this,null,function*(){n(),m({confirmLoading:!1,width:"800px"}),o.value=!!(i!=null&&i.isUpdate),d(o)&&(p.value=i.record.id,l(c({},i.record)))})),_=U(()=>d(o)?"\u7F16\u8F91\u9000\u8D39":"\u65B0\u589E\u9000\u8D39");function v(){return u(this,null,function*(){try{let i=yield s();m({confirmLoading:!0}),console.log(i),h(),r("success",{isUpdate:d(o),values:B(c({},i),{id:p.value})})}finally{m({confirmLoading:!1})}})}return{registerModal:e,registerForm:a,getTitle:_,handleSubmit:v}}});function A(t,r,o,p,a,l){const n=M("BasicForm"),s=M("BasicModal");return I(),P(s,j(t.$attrs,{onRegister:t.registerModal,title:t.getTitle,onOk:t.handleSubmit}),{default:T(()=>[V(n,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var So=D(x,[["render",A]]);export{So as default};
