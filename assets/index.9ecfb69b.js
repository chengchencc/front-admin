import{aW as Ae,dH as Ve,p as u,s as ne,w as m,x as ae,_ as g,ao as se,dI as ge,R as S,$ as ke,J as xe,a as J,F as ye,dJ as Ee,H as f,a1 as Ue,f as p,Q as H,cd as Ze,a3 as D,d8 as te,a7 as De,cn as He,cp as _e,S as k,dK as Be,ac as Fe,V as Xe,T as Ye,a2 as We}from"./index.0afb6b1a.js";var Je="[object Number]";function qe(r){return typeof r=="number"||Ae(r)&&Ve(r)==Je}function Qe(){var r=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:r,height:e}}function Se(r){var e=r.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},et=Ke;function we(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){tt(r,a,t[a])})}return r}function tt(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ce=function(e,t){var n=we({},e,t.attrs);return u(ne,we({},n,{icon:et}),null)};ce.displayName="RotateLeftOutlined";ce.inheritAttrs=!1;var rt=ce,nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},at=nt;function he(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){it(r,a,t[a])})}return r}function it(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ve=function(e,t){var n=he({},e,t.attrs);return u(ne,he({},n,{icon:at}),null)};ve.displayName="RotateRightOutlined";ve.inheritAttrs=!1;var ot=ve,lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ut=lt;function Pe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){st(r,a,t[a])})}return r}function st(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var fe=function(e,t){var n=Pe({},e,t.attrs);return u(ne,Pe({},n,{icon:ut}),null)};fe.displayName="ZoomInOutlined";fe.inheritAttrs=!1;var ct=fe,vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ft=vt;function Ce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){dt(r,a,t[a])})}return r}function dt(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var de=function(e,t){var n=Ce({},e,t.attrs);return u(ne,Ce({},n,{icon:ft}),null)};de.displayName="ZoomOutOutlined";de.inheritAttrs=!1;var pt=de;function mt(r){var e=m(null),t=ae(g({},r)),n=m([]),a=function(s){e.value===null&&(n.value=[],e.value=ge(function(){var w;n.value.forEach(function(O){w=g(g({},w),O)}),g(t,w),e.value=null})),n.value.push(s)};return se(function(){e.value&&ge.cancel(e.value)}),[t,a]}function be(r,e,t,n){var a=e+t,i=(t-n)/2;if(t>n){if(e>0)return S({},r,i);if(e<0&&a<n)return S({},r,-i)}else if(e<0||a>n)return S({},r,e<0?i:-i);return{}}function gt(r,e,t,n){var a=Qe(),i=a.width,s=a.height,w=null;return r<=i&&e<=s?w={x:0,y:0}:(r>i||e>s)&&(w=g(g({},be("x",t,r,i)),be("y",n,e,s))),w}var Oe=Symbol("previewGroupContext"),pe={provide:function(e){ke(Oe,e)},inject:function(){return xe(Oe,{isPreviewGroup:m(!1),previewUrls:ae({}),setPreviewUrls:function(){},current:m(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null})}},wt=J({name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,t){var n=t.slots,a=ae({}),i=m(),s=m(!1),w=m(null),O=function(l){g(a,l)},C=function(l){i.value=l},P=function(l){w.value=l},E=function(l){s.value=l},M=function(l,x){return a[l]=x,function(){delete a[l]}},b=function(l){l==null||l.stopPropagation(),s.value=!1,w.value=null};return pe.provide({isPreviewGroup:m(!0),previewUrls:a,setPreviewUrls:O,current:i,setCurrent:C,setShowPreview:E,setMousePosition:P,registerImage:M}),function(){return u(ye,null,[n.default&&n.default(),u(Re,{"ria-hidden":!s.value,visible:s.value,prefixCls:e.previewPrefixCls,onClose:b,mousePosition:w.value,src:a[i.value]},null)])}}}),Me=wt,ht=Ee(),re={x:0,y:0},Pt=g({src:f.string,alt:f.string},ht),Ct=J({name:"Preview",inheritAttrs:!1,props:Pt,emits:["close","afterClose"],setup:function(e,t){var n=t.emit,a=t.attrs,i=m(1),s=m(0),w=mt(re),O=Ue(w,2),C=O[0],P=O[1],E=function(){return n("close")},M=m(),b=ae({originX:0,originY:0,deltaX:0,deltaY:0}),c=m(!1),l=pe.inject(),x=l.previewUrls,R=l.current,I=l.isPreviewGroup,T=l.setCurrent,_=p(function(){return Object.keys(x).length}),B=p(function(){return Object.keys(x)}),L=p(function(){return B.value.indexOf(String(R.value))}),ie=p(function(){return I.value?x[R.value]:e.src}),F=p(function(){return I.value&&_.value>1}),U=function(){i.value=1,s.value=0,P(re)},q=function(){i.value++,P(re)},oe=function(){i.value>1&&i.value--,P(re)},le=function(){s.value+=90},ue=function(){s.value-=90},A=function(o){o.preventDefault(),o.stopPropagation(),L.value>0&&T(B.value[String(L.value-1)])},X=function(o){o.preventDefault(),o.stopPropagation(),L.value<_.value-1&&T(B.value[String(L.value+1)])},Q=H(S({},"".concat(e.prefixCls,"-moving"),c.value)),v="".concat(e.prefixCls,"-operations-operation"),h="".concat(e.prefixCls,"-operations-icon"),y=[{icon:Ze,onClick:E,type:"close"},{icon:ct,onClick:q,type:"zoomIn"},{icon:pt,onClick:oe,type:"zoomOut",disabled:p(function(){return i.value===1})},{icon:ot,onClick:le,type:"rotateRight"},{icon:rt,onClick:ue,type:"rotateLeft"}],j=function(){if(e.visible&&c.value){var o=M.value.offsetWidth*i.value,z=M.value.offsetHeight*i.value,$=Se(M.value),G=$.left,N=$.top,K=s.value%180!==0;c.value=!1;var ee=gt(K?z:o,K?o:z,G,N);ee&&P(g({},ee))}},Z=function(o){o.preventDefault(),o.stopPropagation(),b.deltaX=o.pageX-C.x,b.deltaY=o.pageY-C.y,b.originX=C.x,b.originY=C.y,c.value=!0},Y=function(o){e.visible&&c.value&&P({x:o.pageX-b.deltaX,y:o.pageY-b.deltaY})},W=function(){};return se(function(){D([function(){return e.visible},c],function(){W();var d,o,z=te(window,"mouseup",j,!1),$=te(window,"mousemove",Y,!1);try{window.top!==window.self&&(d=te(window.top,"mouseup",j,!1),o=te(window.top,"mousemove",Y,!1))}catch(G){}W=function(){z.remove(),$.remove(),d&&d.remove(),o&&o.remove()}},{flush:"post",immediate:!0})}),De(function(){W()}),function(){return u(Be,k(k({},a),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:e.prefixCls,onClose:E,afterClose:U,visible:e.visible,wrapClassName:Q,getContainer:e.getContainer}),{default:function(){return[u("ul",{class:"".concat(e.prefixCls,"-operations")},[y.map(function(o){var z=o.icon,$=o.onClick,G=o.type,N=o.disabled;return u("li",{class:H(v,S({},"".concat(e.prefixCls,"-operations-operation-disabled"),N&&(N==null?void 0:N.value))),onClick:$,key:G},[u(z,{class:h},null)])})]),u("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(C.x,"px, ").concat(C.y,"px, 0)")}},[u("img",{onMousedown:Z,ref:M,class:"".concat(e.prefixCls,"-img"),src:ie.value,alt:e.alt,style:{transform:"scale3d(".concat(i.value,", ").concat(i.value,", 1) rotate(").concat(s.value,"deg)")}},null)]),F.value&&u("div",{class:H("".concat(e.prefixCls,"-switch-left"),S({},"".concat(e.prefixCls,"-switch-left-disabled"),L.value<=0)),onClick:A},[u(He,null,null)]),F.value&&u("div",{class:H("".concat(e.prefixCls,"-switch-right"),S({},"".concat(e.prefixCls,"-switch-right-disabled"),L.value>=_.value-1)),onClick:X},[u(_e,null,null)])]}})}}}),Re=Ct,Ie={src:f.string,wrapperClassName:f.string,wrapperStyle:f.style,prefixCls:f.string,previewPrefixCls:f.string,placeholder:f.VNodeChild,fallback:f.string,preview:f.oneOfType([f.looseBool,f.shape({visible:f.bool,onVisibleChange:f.func,getContainer:f.oneOfType([f.func,f.looseBool,f.string])}).loose]).def(!0)},bt=function(e,t){var n=g({},e);return Object.keys(t).forEach(function(a){e[a]===void 0&&(n[a]=t[a])}),n},Ot=0,Le=J({name:"Image",mixins:[Fe],inheritAttrs:!1,props:Ie,emits:["click"],setup:function(e,t){var n=t.attrs,a=t.slots,i=t.emit,s=p(function(){return e.prefixCls}),w=p(function(){return"".concat(s.value,"-preview")}),O=p(function(){var v={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return Xe(e.preview)==="object"?bt(e.preview,v):v}),C=p(function(){return e.placeholder&&e.placeholder!==!0||a.placeholder}),P=p(function(){return O.value.visible}),E=p(function(){return O.value.onVisibleChange}),M=p(function(){return O.value.getContainer}),b=p(function(){return P.value!==void 0}),c=m(!!P.value);D(P,function(){c.value=!!P.value}),D(c,function(v,h){E.value(v,h)});var l=m(C.value?"loading":"normal");D(function(){return e.src},function(){l.value=C.value?"loading":"normal"});var x=m(null),R=p(function(){return l.value==="error"}),I=pe.inject(),T=I.isPreviewGroup,_=I.setCurrent,B=I.setShowPreview,L=I.setMousePosition,ie=I.registerImage,F=m(Ot++),U=p(function(){return e.preview&&!R.value}),q=function(){l.value="normal"},oe=function(){l.value="error"},le=function(h){if(!b.value){var y=Se(h.target),j=y.left,Z=y.top;T.value?(_(F.value),L({x:j,y:Z})):x.value={x:j,y:Z}}T.value?B(!0):c.value=!0,i("click",h)},ue=function(){c.value=!1,b.value||(x.value=null)},A=m(null);D(function(){return A},function(){l.value==="loading"&&A.value.complete&&(A.value.naturalWidth||A.value.naturalHeight)&&q()});var X=function(){};se(function(){D([function(){return e.src},U],function(){if(X(),!T.value)return function(){};X=ie(F.value,e.src),U.value||X()},{flush:"post",immediate:!0})});var Q=function(h){return qe(h)?h+"px":h};return function(){var v=e.prefixCls,h=e.wrapperClassName,y=e.fallback,j=e.src,Z=e.preview,Y=e.placeholder,W=e.wrapperStyle,d=n.width,o=n.height,z=n.crossorigin,$=n.decoding,G=n.alt,N=n.sizes,K=n.srcset,ee=n.usemap,je=n.class,ze=n.style,$e=H(v,h,S({},"".concat(v,"-error"),R.value)),Ge=R.value&&y?y:j,me=a.previewMask&&a.previewMask(),Ne={crossorigin:z,decoding:$,alt:G,sizes:N,srcset:K,usemap:ee,class:H("".concat(v,"-img"),S({},"".concat(v,"-img-placeholder"),Y===!0),je),style:g({height:o},ze)};return u(ye,null,[u("div",{class:$e,onClick:Z&&!R.value?le:function(Te){i("click",Te)},style:g({width:Q(d),height:Q(o)},W)},[u("img",k(k(k({},Ne),R.value&&y?{src:y}:{onLoad:q,onError:oe,src:j}),{},{ref:A}),null),l.value==="loading"&&u("div",{"aria-hidden":"true",class:"".concat(v,"-placeholder")},[Y||a.placeholder&&a.placeholder()]),me&&U.value&&u("div",{class:"".concat(v,"-mask")},[me])]),!T.value&&U.value&&u(Re,{"aria-hidden":!c.value,visible:c.value,prefixCls:w.value,onClose:ue,mousePosition:x.value,src:Ge,alt:G,getContainer:M.value},null)])}}});Le.PreviewGroup=Me;var xt=Le,yt=J({name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:f.string},setup:function(e,t){var n=t.attrs,a=t.slots,i=xe("configProvider",Ye),s=p(function(){return i.getPrefixCls("image-preview",e.previewPrefixCls)});return function(){return u(Me,k(k({},g(g({},n),e)),{},{previewPrefixCls:s.value}),a)}}}),St=yt,V=J({name:"AImage",inheritAttrs:!1,props:Ie,setup:function(e,t){var n=t.slots,a=t.attrs,i=We("image",e),s=i.prefixCls;return function(){return u(xt,g(g(g({},a),e),{prefixCls:s.value}),n)}}});V.PreviewGroup=St;V.install=function(r){return r.component(V.name,V),r.component(V.PreviewGroup.name,V.PreviewGroup),r};var Rt=V;export{Rt as I};
